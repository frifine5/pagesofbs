<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>seal_apply_main</title>

    <!-- Bootstrap Styles-->
    <link href="/assets/css/bootstrap.css" rel="stylesheet"/>
    <!-- FontAwesome Styles-->
    <link href="/assets/css/font-awesome.css" rel="stylesheet"/>
    <!-- Morris Chart Styles-->
    <link href="/assets/js/morris/morris-0.4.3.min.css" rel="stylesheet"/>
    <!-- Custom Styles-->
    <link href="/assets/css/custom-styles.css" rel="stylesheet"/>


</head>
<body>


<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="col-lg-9">
                    <h4>查询条件</h4>
                    <form role="form" action="javascript: conditionQuery()">
                        <div class="col-lg-3 form-group has-success">
                            <label class="control-label" for="inputSuccess">模块</label>
                            <input type="text" class="form-control" id="inputSuccess">
                        </div>
                        <div class="col-lg-3 form-group has-warning">
                            <label class="control-label" for="inputWarning">操作者</label>
                            <input type="text" class="form-control" id="inputWarning">
                        </div>
                        <div class="col-lg-3  form-group has-success">
                            <label class="control-label" for="startDate">时间从</label>
                            <a class='input-group date control-label' id='startDate' onclick="getDateTime(this)" >
                                <input type='text' class="form-control" id='startDateValue'
                                       style="width: 120px; height: 30px;"  />
                                <span class="input-group-addon" style="float: left; width: 50px; height: 30px;">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </a>
                        </div>
                        <div class="col-lg-3  form-group has-success">
                            <label class="control-label" for="endDate">到</label>
                            <a class='input-group date' id='endDate' onclick="getDateTime(this)" >
                                <input type='text' class="form-control" id='endDateValue'
                                   style="width: 125px; height: 32px;" />
                                <span class="input-group-addon" style="float: left; width: 50px; height: 32px;">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </a>
                        </div>
                        <div class="col-lg-2 form-group pull-right">
                            <input type="submit" class="form-control" id="submit">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12">
        <!-- Advanced Tables -->
        <div class="panel panel-default">
            <div class="panel-heading">
                列表
            </div>
            <div id="rtnList" class="panel-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                        <thead>
                        <tr>
                            <th>Rendering engine</th>
                            <th>Browser</th>
                            <th>Platform(s)</th>
                            <th>Engine version</th>
                            <th>CSS grade</th>
                        </tr>
                        </thead>
                        <tbody>


                        <tr class="gradeA">
                            <td>Gecko</td>
                            <td>Firefox 1.0</td>
                            <td>Win 98+ / OSX.2+</td>
                            <td class="center">1.7</td>
                            <td class="center">A</td>
                        </tr>
                        <tr class="gradeA">
                            <td>Gecko</td>
                            <td>Firefox 1.5</td>
                            <td>Win 98+ / OSX.2+</td>
                            <td class="center">1.8</td>
                            <td class="center">A</td>
                        </tr>

                        <tr class="gradeC">
                            <td>Tasman</td>
                            <td>Internet Explorer 5.1</td>
                            <td>Mac OS 7.6-9</td>
                            <td class="center">1</td>
                            <td class="center">C</td>
                        </tr>


                        <tr class="gradeU">
                            <td>Other browsers</td>
                            <td>All others</td>
                            <td>-</td>
                            <td class="center">-</td>
                            <td class="center">U</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
        <!--End Advanced Tables -->
    </div>
</div>


<!-- /. WRAPPER  -->
<!-- JS Scripts-->
<!-- jQuery Js -->
<script type="text/javascript" src="/js/jquery.js"></script>
<!-- Bootstrap Js -->
<script src="/assets/js/bootstrap.min.js"></script>
<!-- Metis Menu Js -->
<script src="/assets/js/jquery.metisMenu.js"></script>
<!-- Morris Chart Js -->
<script src="/assets/js/morris/raphael-2.1.0.min.js"></script>
<script src="/assets/js/morris/morris.js"></script>
<!-- Custom Js -->
<script src="/assets/js/custom-scripts.js"></script>

<link href="/assets/css/bootstrap-datetimepicker.min.css" rel="stylesheet"/>
<script src="/assets/js/moment-with-locales.js"></script>
<script src="/assets/js/bootstrap-datetimepicker.min.js"></script>
<script src="/assets/js/bootstrap-datetimepicker.zh-CN.js"></script>

<script>

    function conditionQuery() {
        var st = $("#startDateValue").value;
        var et = $("#endDateValue").value;

        var data = {"scpCode":"02",
            "applyType":"10",
            "applyDate": st,
            "lastInspection": et
        };

        $.ajax({
            type: "post",
            data: data,
            dataType: "JSON",
            url: "/queryStatistics/countSealApply.json",
            cache:false,//false是不缓存，true为缓存
            async:true,//true为异步，false为同步
            timeout: 10000,
            success: function (data) {
                var s = "code = "+ data.code +", msg = "+data.message+", data = "+data.data;
                alert(s);
                if(0 == data.code){
                    var recordCount = data.data.recordCount;
                    var lt = data.data.list;
                    alert(recordCount);
                    alert(lt);
                }
            },
            error: function () {
                alert("fail");
            }


        });

    }

    function getDateTime(dateDiv) {
        $(dateDiv).datetimepicker({
            language: 'zh-CN',//显示中文
            format: 'yyyy-mm-dd',//显示格式
            minView: "month",//设置只显示到月份
            initialDate: new Date(),
            autoclose: true,//选中自动关闭
            todayBtn: true,//显示今日按钮
            locale: moment.locale('zh-cn')
        });
        //默认获取当前日期
        var today = new Date();
        var nowdate = (today.getFullYear()) + "-" + (today.getMonth() + 1) + "-" + today.getDate();
        //对日期格式进行处理
        var date = new Date(nowdate);
        var mon = date.getMonth() + 1;
        var day = date.getDate();
        var mydate = date.getFullYear() + "-" + (mon < 10 ? "0" + mon : mon) + "-" + (day < 10 ? "0" + day : day);
        document.getElementById(dateDiv+"Value").value = mydate;
    }


</script>


</body>
</html>